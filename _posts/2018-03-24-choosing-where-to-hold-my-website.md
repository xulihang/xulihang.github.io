---
date: 2018-03-24 20:44:50+08:00
layout: post
title: 寻找建站的最佳方案
categories: 技术随笔
tags: 
---

最近一直编写第七届计算机辅助翻译与技术传播大赛的报名系统。预计会有几百人参加，主要是国内用户。需要完成报名、缴费、提交作品和查看成绩等功能。

功能实现上不算复杂，我把服务架设在digitalocean的德国节点上。现在do提供的最低5美元套餐的内存升级到了1GB，应该说性能上没什么问题了。另外带宽不受限。

但是唯一的缺点是ping在200ms左右，存在反应速度慢的问题。

我测试腾讯云的学生版和我家里电信百兆光纤网络下的树莓派的ping值都很低，在40~60左右，反应速度会好很多。但是它们的不足就是上行速度不高。腾讯云只有1Mbps，电信宽带则是4Mbps。另外电信封了80，443端口，只有使用花生壳或者ngrok等内网穿透服务进行端口映射。

使用国内主机的一个问题就是备案。现在比赛快开始了，短时间内备案应该来不及。我想过用花生壳的二级域名绑定腾讯云，然后在把顶级域名cname到二级域名上，以此来实现免备案。但国家的系统应该会检测ip，终究是有风险。

do的服务器在德国，所以国内访问慢，那就办个日本的vps吧。但是vultr的日本节点的ip地址基本都被封了。

最后还是回到do，目前看来还是它最稳定，速度慢点就慢点吧。听v2ex上说用最新内核开bbr，速度会改善，不过目前我也懒得冒风险去升级。另外还有开cdn加速静态文件，不过像七牛云是要求域名备案的，而且我的静态文件也不是很多。