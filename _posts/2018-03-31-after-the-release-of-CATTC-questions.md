---
date: 2018-03-31 12:21:50+08:00
layout: post
title: 写在CATTC大赛试题发布后
categories: 技术随笔
tags: 
---

之前开发的大赛系统其实很完备了，但是老师还是不放心，而且vps在德国比较慢。最后让我用mikecrm收取报名表，把大赛网页放在github pages上。提交作业的平台我换做了课堂派。都是现成的saas服务。

试题组委会决定不公开，只有报名了的同学才能看到。因为报名表在试题发布之前就可以填了，我在试题发布当天需要给200多名选手发送邮件。

我用b4j写了一smtp邮件批量发送程序。邮箱服务我选择的腾讯企业邮箱，免费版每天可以发送500封邮件。后来因为域名问题，老师让我用zoho mail。这个邮箱没有腾讯良心，每小时限制50封邮件，而且免费版不支持smtp。于是最后还是用的腾讯邮箱。测试一小时发上百封没有问题。当天软微的教育网光纤断了，网速只有不到1Mbps，仍然成功发送了200多封邮件。不过花了两个多小时时间，我要是在服务器上发肯定要快很多。

第二天，既然大赛试题发布了。就可以让选手自己报名后下载了。我一开始想的方式是选手输入报名时填的邮箱，验证后获得下载地址。这个可以给已经提交了报名表的同学用。此后提交报名表的同学，将数秒后自动跳转到试题下载页面。

试题我现在放在了七牛云上。七牛云使用了cdn，更新文件后不能及时更新缓存。这时在下载链接上加上参数就可以直接访问最新文件了。